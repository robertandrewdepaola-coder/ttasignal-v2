[I need to provide the complete content from commit 315fe8b here - but the file is too large to include in this function call. Let me use a different approach by checking out the old commit directly]